{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container mt-5">
	<div class="d-flex justify-content-center align-items-center">
		<div class="row col-10">
			<div class="row text-center">
				<h1 class="p-2 display-5" style="font-weight: bolder;">{{ post.title }}</h1>
			</div>
			<div class="container mt-1">
				<div class="row align-items-center d-flex flex-nowrap">
					<div class="col-md-9 col-9 mx-0 m-1 align-items-center d-flex flex-row post-detail">
						<div class="flex-fill d-flex flex-column post-detail">
							<p><span class="">Posted on:</span> <span class="fw-light">{{ post.created_at }}</span></p>
						</div>
					</div>
					<div class="col-md-2 col-1 mx-0 d-flex flex-column align-items-end">
						<div id="like-counter">
							{% include 'blogs/likes_htmx.html' %}
						</div> 
					</div>
				</div>
			</div>

			<hr>
			<div class="container-fluid card-body">
				<p class="poppins"> {{ post.content }} </p>
			</div>
			<hr>
			<div class="container pt-5">
				<div id="">
					{% include 'blogs/comments_htmx.html' %}
				</div> 
			</div>

			{% if request.user.is_authenticated %}
			<div class="row pt-3">
				<div class="col text-center">
					<button 
						class="btn btn-lg btn-success shadow"
						hx-get="{% url 'like_post' post.id %}"
						hx-target="#like-counter"
						hx-swap="innerHTML">
						<i class="fa fa-heart" aria-hidden="true"></i>
					</button>
				</div>
			</div>
			{% endif %}
		</div>
	</div>
</div>
{% endblock content %}
